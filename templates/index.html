<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initialscale=1.0, maximum-scale=1.0, user-scalable=0"
    />
    <title>Página Inicial</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="static\style.css" />
    <script src="static\jquery-3.7.1.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
    />
    <div class="wave-top">
      <svg
        class="waves"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        viewBox="0 24 150 28"
        preserveAspectRatio="none"
        shape-rendering="auto"
      >
        <defs>
          <path
            id="gentle-wave"
            d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"
          />
        </defs>
        <g class="parallax">
          <use
            xlink:href="#gentle-wave"
            x="48"
            y="0"
            fill="rgba(255,255,255,0.7)"
          />
          <use
            xlink:href="#gentle-wave"
            x="48"
            y="3"
            fill="rgba(255,255,255,0.5)"
          />
          <use
            xlink:href="#gentle-wave"
            x="48"
            y="5"
            fill="rgba(255,255,255,0.3)"
          />
          <use xlink:href="#gentle-wave" x="48" y="7" fill="#fff" />
        </g>
      </svg>
    </div>
  </head>
  <body>
    <header></header>
    <main>
      <div
        id="page-carousel"
        class="carousel slide"
        data-ride="carousel"
        data-bs-touch="false"
        data-bs-interval="false"
      >
        <div class="carousel-inner">
          <div id="home" class="carousel-item active">
            <div class="container">
              <div class="city-info">
                <h1 class="city-name">{{location.cidade}}</h1>
                <h2 class="city-state">{{location.estado}}</h2>
                <p class="city-date">
                  <i class="bi bi-calendar-week-fill"></i> {{date}}
                </p>
              </div>
              <div class="current-weather">
                <div class="weather-status">
                  <img
                    id="weather_img"
                    src="static\images\weather.png"
                    width="200px"
                    height="200px"
                  />
                </div>

                <div class="temperature">
                  <p class="status-info" style="margin-bottom: -5px !important">
                    {% if clima.status|lower == 'clear' %} Céu Limpo {% elif
                    clima.status|lower == 'thunderstorm' %} Tempestade {% elif
                    clima.status|lower == 'drizzle' %} Garoa {% elif
                    clima.detailed_status|lower == 'light rain' %} Chuva Leve {%
                    elif clima.detailed_status|lower == 'moderate rain' %} Chuva
                    Moderada {% elif clima.detailed_status|lower == 'heavy
                    intensity rain' %} Chuva Intensa {% elif
                    clima.detailed_status|lower == 'very heavy rain' %} Chuva
                    Muito Intensa {% elif clima.detailed_status|lower ==
                    'extreme rain' %} Chuva Extrema {% elif clima.status|lower
                    == 'rain' %} Chuva {% elif clima.status|lower == 'snow' %}
                    Nevando {% elif clima.status|lower == 'atmosphere' %}
                    Neblina {% elif clima.status|lower == 'clouds' %} Nublado {%
                    else %} Indefinido {% endif %}
                  </p>
                  <div class="display-temp">
                    <div class="value">
                      <ion-icon name="thermometer-outline"></ion-icon>
                      {{clima.temperatura.temp|round(1)}}
                    </div>
                    <div class="celsius">ºC</div>
                  </div>
                  <div class="minmax">
                    <div class="temp-min">
                      <i class="bi bi-arrow-down-short"></i>
                      {{clima.temperatura.temp_min|round(1)}} ºC
                    </div>
                    <div class="temp-max">
                      <i class="bi bi-arrow-up-short"></i>
                      {{clima.temperatura.temp_max|round(1)}} ºC
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div id="clima" class="carousel-item">
            <div class="container">
              <div class="city-info mb-5">
                <h1 class="city-name">{{location.cidade}}</h1>
                <h2 class="city-state">{{location.estado}}</h2>
                <p class="city-date">-= {{date}} =-</p>
              </div>
              <div class="layout">
                <h1>Temperatura</h1>
                <div class="d-flex flex-row justify-content-center">
                  <div class="d-flex flex-column justify-content-center mx3">
                    <p class="fs-3 mb-0 mx-3 font-weight-bold">Min</p>
                    <p class="mb-0 mx-3">{{clima.temperatura.temp_min}} ºC</p>
                  </div>
                  <div class="d-flex flex-column justify-content-center mx3">
                    <p class="fs-3 mb-0 mx-3 font-weight-bold">Agora</p>
                    <p class="mb-0 mx-3">{{clima.temperatura.temp}} ºC</p>
                  </div>
                  <div class="d-flex flex-column justify-content-center mx3">
                    <p class="fs-3 mb-0 mx-3 font-weight-bold">Máx</p>
                    <p class="mb-0 mx-3">{{clima.temperatura.temp_max}} ºC</p>
                  </div>
                </div>
                <br />
                <h1>Vento</h1>
                <div class="d-flex flex-row justify-content-center">
                  <div class="d-flex flex-column justify-content-center mx3">
                    <p class="fs-3 mb-0 mx-3 font-weight-bold">Velocidade</p>
                    <p class="mb-0 mx-3">
                      <i class="bi bi-wind"></i> {{clima.vento.speed}} Km/h
                    </p>
                  </div>
                  <div class="d-flex flex-column justify-content-center mx3">
                    <p class="fs-3 mb-0 mx-3 font-weight-bold">Pressão</p>
                    <p class="mb-0 mx-3">
                      <i class="bi bi-speedometer2"></i> {{clima.pressao.press}}
                      hPa
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div id="transito" class="carousel-item">
            <div class="container">
              <p>Monóxido de Carbono (CO): {{poluentes.co|round(2)}} ppm</p>
              <p>Monóxido de Nitrogênio (NO): {{poluentes.no}}</p>
              <p>Dióxido de Nitrogênio (NO2): {{poluentes.no2}}</p>
              <p>Ozônio (O3): {{(poluentes.o3*2.68/100)|round(2)}} ppm</p>
              <p>Dióxido de Enxofre (SO2): {{poluentes.so2}}</p>
              <p>Amônia (NH3): {{poluentes.nh3}}</p>
              <p>PM2.5 (2.5 Micrômetros): {{poluentes.pm2_5}}</p>
              <p>PM10 (10 Micrômetros): {{poluentes.pm10}}</p>
              <p>Índice de Qualidade do Ar: {{poluentes.aqi}}</p>
            </div>
          </div>
          <div id="perfil" class="carousel-item">
            {% if session %}
            <div style="text-align: center" class="container">
              <div class="profile-container">
                <div class="user-display">
                  <h1 class="user-name">{{session.userinfo.name}}</h1>
                  <p class="user-email">{{session.userinfo.email}}</p>
                </div>
                <div class="user-picture">
                  <img
                    src="{{session.userinfo.picture}}"
                    alt="User profile photo"
                    class="user-profile-pic"
                  />
                </div>
              </div>
              <div class="logout-button">
                <a href="/logout">Desconectar</a>
              </div>
            </div>

            {% else %}
            <div class="login-container">
              <div class="google-signin-btn">
                <a
                  href="/google-login"
                  class="login-btn"
                  type="button"
                  id="login-google-button"
                >
                  <svg
                    class="active"
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    width="18px"
                    height="18px"
                    viewBox="0 0 48 48"
                  >
                    <g>
                      <path
                        fill="#EA4335"
                        d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"
                      ></path>
                      <path
                        fill="#4285F4"
                        d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"
                      ></path>
                      <path
                        fill="#FBBC05"
                        d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"
                      ></path>
                      <path
                        fill="#34A853"
                        d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"
                      ></path>
                      <path fill="none" d="M0 0h48v48H0z"></path>
                    </g>
                  </svg>
                  <span style="color: #777278; margin-left: 10px"
                    >Entrar com Google</span
                  >
                </a>
              </div>
            </div>

            {% endif %}
          </div>
          <div id="config" class="carousel-item">
            <div class="switch-container">
              <p>Modo Noturno</p>
              <input type="checkbox" id="switch" /><label for="switch"
                >Toggle</label
              >
            </div>
          </div>
        </div>
      </div>
    </main>
    <footer>
      <div class="navigation">
        <ul>
          <li class="list active">
            <a id="home-btn" href="#">
              <span class="icon">
                <ion-icon name="home-outline"></ion-icon>
              </span>
              <span class="text">Início</span>
            </a>
          </li>
          <li class="list">
            <a id="clima-btn" href="#">
              <span class="icon">
                <ion-icon name="sunny-outline"></ion-icon>
              </span>
              <span class="text">Clima</span>
            </a>
          </li>
          <li class="list">
            <a id="transito-btn" href="#">
              <span class="icon">
                <i class="bi bi-cloud-haze2"></i>
              </span>
              <span class="text">Poluentes</span>
            </a>
          </li>
          <li class="list">
            <a id="perfil-btn" href="#">
              <span class="icon">
                <i class="bi bi-person"></i>
              </span>
              <span class="text">Perfil</span>
            </a>
          </li>
          <li class="list">
            <a id="config-btn" href="#">
              <span class="icon">
                <ion-icon name="options-outline"></ion-icon>
              </span>
              <span class="text">Config.</span>
            </a>
          </li>
          <div class="indicator"></div>
        </ul>
      </div>
    </footer>
    <script></script>

    <script
      type="module"
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <script type="text/javascript" src="static\carousel.js"></script>
    <script type="text/javascript" src="static\navbar.js"></script>
    <script type="text/javascript" src="static\weather_img.js"></script>
    <script type="text/javascript" src="static\dark-mode.js"></script>
  </body>
</html>
